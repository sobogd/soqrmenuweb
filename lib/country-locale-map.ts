import { Locale } from "@/i18n/routing";

/**
 * Маппинг код страны (ISO 3166-1 alpha-2) → язык
 * Используется для определения языка по геолокации Cloudflare
 */
export const countryToLocale: Record<string, Locale> = {
  // Английский (en)
  US: "en", // США
  GB: "en", // Великобритания
  AU: "en", // Австралия
  NZ: "en", // Новая Зеландия
  ZA: "en", // ЮАР
  NG: "en", // Нигерия
  KE: "en", // Кения
  GH: "en", // Гана
  PH: "en", // Филиппины
  SG: "en", // Сингапур (мультиязычный, но английский основной)
  MY: "en", // Малайзия
  IN: "en", // Индия
  PK: "en", // Пакистан

  // Испанский (es) - Испания + Латинская Америка (кроме Бразилии)
  ES: "es", // Испания
  MX: "es", // Мексика
  AR: "es", // Аргентина
  CO: "es", // Колумбия
  CL: "es", // Чили
  PE: "es", // Перу
  VE: "es", // Венесуэла
  EC: "es", // Эквадор
  GT: "es", // Гватемала
  CU: "es", // Куба
  BO: "es", // Боливия
  DO: "es", // Доминиканская Республика
  HN: "es", // Гондурас
  PY: "es", // Парагвай
  SV: "es", // Сальвадор
  NI: "es", // Никарагуа
  CR: "es", // Коста-Рика
  PA: "es", // Панама
  UY: "es", // Уругвай
  PR: "es", // Пуэрто-Рико
  GQ: "es", // Экваториальная Гвинея

  // Португальский (pt)
  PT: "pt", // Португалия
  BR: "pt", // Бразилия
  AO: "pt", // Ангола
  MZ: "pt", // Мозамбик
  CV: "pt", // Кабо-Верде

  // Немецкий (de)
  DE: "de", // Германия
  AT: "de", // Австрия
  CH: "de", // Швейцария (основной - немецкий)
  LI: "de", // Лихтенштейн
  LU: "de", // Люксембург

  // Французский (fr)
  FR: "fr", // Франция
  BE: "fr", // Бельгия (франко/нидерландо-говорящая, но французский популярнее)
  MC: "fr", // Монако
  SN: "fr", // Сенегал
  CI: "fr", // Кот-д'Ивуар
  ML: "fr", // Мали
  CM: "fr", // Камерун
  MG: "fr", // Мадагаскар
  NE: "fr", // Нигер
  BF: "fr", // Буркина-Фасо
  TN: "fr", // Тунис
  MA: "fr", // Марокко
  DZ: "fr", // Алжир
  HT: "fr", // Гаити
  CD: "fr", // ДР Конго
  CG: "fr", // Конго
  GA: "fr", // Габон
  BJ: "fr", // Бенин
  TG: "fr", // Того
  RW: "fr", // Руанда
  BI: "fr", // Бурунди

  // Итальянский (it)
  IT: "it", // Италия
  SM: "it", // Сан-Марино
  VA: "it", // Ватикан

  // Нидерландский (nl)
  NL: "nl", // Нидерланды
  SR: "nl", // Суринам
  AW: "nl", // Аруба
  CW: "nl", // Кюрасао

  // Польский (pl)
  PL: "pl", // Польша

  // Русский (ru)
  RU: "ru", // Россия
  BY: "ru", // Беларусь
  KZ: "ru", // Казахстан
  KG: "ru", // Киргизия
  TJ: "ru", // Таджикистан
  UZ: "ru", // Узбекистан
  TM: "ru", // Туркменистан
  MD: "ru", // Молдова

  // Украинский (uk)
  UA: "uk", // Украина

  // Шведский (sv)
  SE: "sv", // Швеция

  // Датский (da)
  DK: "da", // Дания
  FO: "da", // Фарерские острова
  GL: "da", // Гренландия

  // Норвежский (no)
  NO: "no", // Норвегия
  SJ: "no", // Шпицберген

  // Финский (fi)
  FI: "fi", // Финляндия

  // Чешский (cs)
  CZ: "cs", // Чехия

  // Греческий (el)
  GR: "el", // Греция
  CY: "el", // Кипр

  // Турецкий (tr)
  TR: "tr", // Турция

  // Румынский (ro)
  RO: "ro", // Румыния

  // Венгерский (hu)
  HU: "hu", // Венгрия

  // Болгарский (bg)
  BG: "bg", // Болгария

  // Хорватский (hr)
  HR: "hr", // Хорватия
  BA: "hr", // Босния и Герцеговина

  // Словацкий (sk)
  SK: "sk", // Словакия

  // Словенский (sl)
  SI: "sl", // Словения

  // Эстонский (et)
  EE: "et", // Эстония

  // Латышский (lv)
  LV: "lv", // Латвия

  // Литовский (lt)
  LT: "lt", // Литва

  // Сербский (sr)
  RS: "sr", // Сербия
  ME: "sr", // Черногория

  // Каталанский (ca)
  AD: "ca", // Андорра

  // Ирландский (ga) - но в Ирландии больше английский
  // IE: "ga",

  // Исландский (is)
  IS: "is", // Исландия

  // Фарси (fa)
  IR: "fa", // Иран
  AF: "fa", // Афганистан

  // Арабский (ar)
  SA: "ar", // Саудовская Аравия
  AE: "ar", // ОАЭ
  EG: "ar", // Египет
  IQ: "ar", // Ирак
  JO: "ar", // Иордания
  LB: "ar", // Ливан
  SY: "ar", // Сирия
  YE: "ar", // Йемен
  OM: "ar", // Оман
  KW: "ar", // Кувейт
  QA: "ar", // Катар
  BH: "ar", // Бахрейн
  LY: "ar", // Ливия
  SD: "ar", // Судан
  PS: "ar", // Палестина

  // Японский (ja)
  JP: "ja", // Япония

  // Корейский (ko)
  KR: "ko", // Южная Корея
  KP: "ko", // Северная Корея

  // Китайский (zh)
  CN: "zh", // Китай
  TW: "zh", // Тайвань
  HK: "zh", // Гонконг
  MO: "zh", // Макао
};

/**
 * Получить язык по коду страны
 * @param countryCode - код страны ISO 3166-1 alpha-2 (например: "ES", "DE", "BR")
 * @returns язык или null если не найден
 */
export function getLocaleByCountry(countryCode: string | null): Locale | null {
  if (!countryCode) return null;
  return countryToLocale[countryCode.toUpperCase()] || null;
}
