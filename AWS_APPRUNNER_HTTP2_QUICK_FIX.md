# –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ HTTP/2 –¥–ª—è AWS App Runner

## –ü—Ä–æ–±–ª–µ–º–∞
–í–∞—à —Å–∞–π—Ç –Ω–∞ AWS App Runner –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HTTP/1.1 –≤–º–µ—Å—Ç–æ HTTP/2, —Ç–µ—Ä—è—è ~170ms –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

## –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?

AWS App Runner **–ü–û–î–î–ï–†–ñ–ò–í–ê–ï–¢ HTTP/2**, –Ω–æ –µ—Å—Ç—å 2 –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã:

1. **CloudFront –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ HTTP/2** (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
2. **–ö–∞—Å—Ç–æ–º–Ω—ã–π –¥–æ–º–µ–Ω –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ**

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: –í–∫–ª—é—á–∏—Ç–µ HTTP/2 –≤ CloudFront (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ª–∏ –≤—ã CloudFront

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS –∑–∞–ø–∏—Å–∏
nslookup sobogdqr.com

# –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ cloudfront.net –≤ –æ—Ç–≤–µ—Ç–µ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ CloudFront
```

### –®–∞–≥ 2: –í–∫–ª—é—á–∏—Ç–µ HTTP/2 –≤ CloudFront

**–ß–µ—Ä–µ–∑ AWS Console:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ [CloudFront Console](https://console.aws.amazon.com/cloudfront/)
2. –ù–∞–π–¥–∏—Ç–µ Distribution –¥–ª—è sobogdqr.com
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ ID Distribution
4. –ù–∞–∂–º–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É **General** ‚Üí **Edit**
5. –í **Supported HTTP versions** –≤—ã–±–µ—Ä–∏—Ç–µ:
   - ‚úÖ HTTP/2
   - ‚úÖ HTTP/1.1
   - ‚úÖ HTTP/1.0
6. –ò–ª–∏ –ª—É—á—à–µ –≤—ã–±–µ—Ä–∏—Ç–µ: **HTTP/2 and HTTP/3**
7. –ù–∞–∂–º–∏—Ç–µ **Save changes**
8. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 –º–∏–Ω—É—Ç –ø–æ–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è

**–ß–µ—Ä–µ–∑ AWS CLI:**

```bash
# 1. –ü–æ–ª—É—á–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤–∞—à–µ–≥–æ distribution
aws cloudfront get-distribution-config \
  --id YOUR_DISTRIBUTION_ID \
  --output json > dist-config.json

# 2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –∏ –∏–∑–º–µ–Ω–∏—Ç–µ HttpVersion –Ω–∞ "http2and3"

# 3. –û–±–Ω–æ–≤–∏—Ç–µ distribution
aws cloudfront update-distribution \
  --id YOUR_DISTRIBUTION_ID \
  --if-match ETAG_FROM_STEP_1 \
  --distribution-config file://dist-config-updated.json
```

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 2: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ App Runner –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HTTPS

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Custom Domain

1. –û—Ç–∫—Ä–æ–π—Ç–µ [AWS App Runner Console](https://console.aws.amazon.com/apprunner/)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Å–µ—Ä–≤–∏—Å
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Custom domains**
4. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
   - ‚úÖ –î–æ–º–µ–Ω sobogdqr.com –¥–æ–±–∞–≤–ª–µ–Ω
   - ‚úÖ –°—Ç–∞—Ç—É—Å: **Active**
   - ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HTTPS (–Ω–µ HTTP)

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSL/TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

AWS App Runner –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç, –Ω–æ —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
- –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤–∞–ª–∏–¥–µ–Ω
- –ù–µ—Ç –æ—à–∏–±–æ–∫ SSL

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ Origin –¥–ª—è CloudFront

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ CloudFront ‚Üí App Runner, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ Origin:

1. –í CloudFront Console –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à Distribution
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Origins** ‚Üí **Edit**
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
   - **Origin Protocol Policy**: `HTTPS only`
   - **Origin SSL Protocols**: `TLSv1.2` –∏ `TLSv1.3`

---

## üöÄ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ü–µ—Ä–µ–µ–∑–¥ –Ω–∞ Vercel (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ï—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ AWS —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–∞—è, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Vercel:

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Vercel –¥–ª—è Next.js:

- ‚úÖ HTTP/2 –∏ HTTP/3 –∏–∑ –∫–æ—Ä–æ–±–∫–∏ (–±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏!)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Next.js
- ‚úÖ Edge Network (–±—ã—Å—Ç—Ä–µ–µ —á–µ–º CloudFront)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π CI/CD –∏–∑ GitHub
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π SSL
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω –¥–ª—è –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

### –ö–∞–∫ –ø–µ—Ä–µ–µ—Ö–∞—Ç—å:

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Vercel CLI
npm install -g vercel

# 2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
vercel login

# 3. –î–µ–ø–ª–æ–π
vercel --prod

# 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ–º–µ–Ω –≤ Vercel Dashboard
# https://vercel.com/dashboard ‚Üí Settings ‚Üí Domains ‚Üí Add sobogdqr.com
```

**–í—Ä–µ–º—è –º–∏–≥—Ä–∞—Ü–∏–∏:** 10-15 –º–∏–Ω—É—Ç
**–°—Ç–æ–∏–º–æ—Å—Ç—å:** $0/–º–µ—Å (Hobby plan) –∏–ª–∏ $20/–º–µ—Å (Pro plan)

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏

| –†–µ—à–µ–Ω–∏–µ | –ú–µ—Å—è—Ü | HTTP/2 | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –°–∫–æ—Ä–æ—Å—Ç—å |
|---------|-------|--------|-----------|----------|
| **AWS App Runner** | $25-50 | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ | –°—Ä–µ–¥–Ω—è—è | –•–æ—Ä–æ—à–∞—è |
| **AWS + CloudFront** | $30-60 | ‚úÖ –î–∞ (–ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏) | –í—ã—Å–æ–∫–∞—è | –û—Ç–ª–∏—á–Ω–∞—è |
| **Vercel** | $0-20 | ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ | –ù–∏–∑–∫–∞—è | –û—Ç–ª–∏—á–Ω–∞—è |

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
./check-http2.sh
```

–ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä—É—á–Ω—É—é:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ curl
curl -I --http2 https://sobogdqr.com

# –î–æ–ª–∂–µ–Ω –≤—ã–≤–µ—Å—Ç–∏: HTTP/2 200
```

–ò–ª–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
1. F12 ‚Üí Network
2. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
3. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ sobogdqr.com
4. –í Headers –Ω–∞–π–¥–∏—Ç–µ Protocol
5. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `h2` (HTTP/2)

---

## üí° –ú–æ—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è –≤–∞—Å

–î–ª—è –ø—Ä–æ–µ–∫—Ç–∞ SobogdQR —è **—Ä–µ–∫–æ–º–µ–Ω–¥—É—é Vercel**, –ø–æ—Ç–æ–º—É —á—Ç–æ:

1. ‚úÖ **HTTP/2 —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É** - –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
2. ‚úÖ **–≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏** - –Ω–µ –Ω—É–∂–Ω–æ –≤–æ–∑–∏—Ç—å—Å—è —Å CloudFront
3. ‚úÖ **–õ—É—á—à–µ –¥–ª—è Next.js** - Vercel —Å–æ–∑–¥–∞—Ç–µ–ª–∏ Next.js
4. ‚úÖ **–î–µ—à–µ–≤–ª–µ** - $0-20/–º–µ—Å vs $30-60/–º–µ—Å AWS
5. ‚úÖ **–ë—ã—Å—Ç—Ä–µ–µ** - Edge Network –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è Next.js

### –ï—Å–ª–∏ –≤—Å—ë –∂–µ —Ö–æ—Ç–∏—Ç–µ –æ—Å—Ç–∞—Ç—å—Å—è –Ω–∞ AWS:

–í–∫–ª—é—á–∏—Ç–µ HTTP/2 –≤ CloudFront (–†–µ—à–µ–Ω–∏–µ 1) - —ç—Ç–æ –∑–∞–π–º–µ—Ç 5-10 –º–∏–Ω—É—Ç.

---

## ‚ùì –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- `AWS_HTTP2_SETUP.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- `./check-http2.sh` - —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–µ–∑–∂–∞–π—Ç–µ –Ω–∞ Vercel - —ç—Ç–æ –ø—Ä–æ—â–µ –∏ –±—ã—Å—Ç—Ä–µ–µ! üöÄ
